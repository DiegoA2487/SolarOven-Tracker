# CrowPanel ESP32 HMI Display for Solar Oven Controller

## Overview

This program is designed to run on the CrowPanel ESP32 HMI Display module and serves as the Human-Machine Interface (HMI) for a solar oven equipped with a solar tracking system. The application leverages the TFT_eSPI and LVGL libraries to manage the display and touch input, providing a user-friendly interface.

---
## Preview of the Interface

![Interface Preview](interface_design.png)

_The image above shows a basic design of the HMI interface, demonstrating the layout and functionality for the solar oven controller. (Designed in SquireLine Studio)_

## Features

- **Touch Screen Support:** The interface allows users to interact with the solar oven via touch gestures.
- **Resolution Compatibility:** Supports CrowPanel displays of different sizes (2.4", 2.8", and 3.5").
- **Customizable UI:** Implements the `ui_init()` function for user-specific interface design.
- **Display Driver Integration:** Efficient rendering using `my_disp_flush()`.
- **Touch Input Processing:** Real-time touch input handled by `my_touchpad_read()`.
- **Energy Efficiency:** Manages the backlight and uses low-power modes effectively.

---

## Hardware Requirements

1. **CrowPanel ESP32 HMI Display** (3.5" configured by default):
   - [Product link](https://www.elecrow.com/esp32-display-series-hmi-touch-screen.html)
2. **ESP32 Development Board**
3. **Power Supply**

---

## Software Requirements

1. **Arduino IDE**
2. **TFT_eSPI Library**
3. **LVGL Library**

---

## Code Explanation

### Configuration

- The program supports multiple screen sizes; ensure the correct macro is uncommented based on your display size.
- The `calData` array is used for touch screen calibration.

### Core Functions

1. **`setup()`**
   - Initializes the serial port, TFT display, touch interface, and LVGL library.
2. **`loop()`**
   - Calls `lv_timer_handler()` to refresh the interface at regular intervals.
3. **Display Rendering:**
   - `my_disp_flush()` renders graphics to the display.
4. **Touch Input Handling:**
   - `my_touchpad_read()` processes touch inputs and maps them to screen coordinates.

---

## File Structure and Dependencies

The project includes multiple files that need to be managed correctly:

1. **Main File:**
   - The `.ino` file serves as the primary script and must be uploaded to the CrowPanel ESP32.
2. **Generated Files:**
   - All files without the `.ino` extension are generated by SquareLine Studio. These include image resources, fonts, and helpers for the user interface.
   - Ensure these files are exported from SquareLine Studio after designing the interface and included in the project directory.

---

## How to Use

1. Connect the CrowPanel ESP32 HMI Display.
2. Load the provided code onto the ESP32 using the Arduino IDE or Platformio.
3. Export the UI files from SquareLine Studio and place them in the appropriate directory.
4. Calibrate the touch screen using the provided `calData` array.
5. Interact with the interface to control and monitor the solar oven.

---

## Additional Resources

- **Tutorial Video:** [Introduction to CrowPanel ESP32](https://www.youtube.com/watch?v=WHfPH-Kr9XU)
- **GitHub Repository:** [CrowPanel Course Files](https://github.com/Elecrow-RD/CrowPanel-ESP32-Display-Course-File)

---
